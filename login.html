<!DOCTYPE html>
<html>
    <head>
	    <meta charset="UTF-8">
    	<title>AdminLTE | Dashboard</title>
	    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
	    <!-- bootstrap 3.0.2 -->
    	<!-- Font Awesome -->
		<link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
		<!-- icheck bootstrap -->
		<link rel="stylesheet" href="plugins/icheck-bootstrap/icheck-bootstrap.min.css">
		<!-- Theme style -->
		<link rel="stylesheet" href="dist/css/adminlte.min.css">
		<!-- Google Font: Source Sans Pro -->
		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
        <script src="angular-1.4.8/angular.min.js" type="text/javascript"></script>
		<script src="angular-1.4.8/ngStorage.js"></script>
		<script type="text/javascript">
		var app = angular.module("stocklogin", ['ngStorage']);
		app.controller('login', function($scope, $http, $filter, $localStorage,$window) {
		 $scope.validate_details = function(user){
			//console.log(user); getData.php?action=logindata&email='+user.email+'&password='+user.pwd
			// $http.get("http://10.60.1.71/~venki/new/ts-slave/php/login.php?name="+user.username+"@admin&password="+user.pwd+"").success(function(data){
				var data={
						username:user.name,
						password:user.pwd
				}
				if(user.name=='accounts' && user.pwd=='1234')
				{				
					console.log(data.length);
					if(data.length!='0'){
							$localStorage.logindata = data;
							$window.localStorage.setItem('logindata',JSON.stringify(data));
						 	window.location.href = 'index.html';
					}
				}
				else{
											
						$scope.error="Invalid Username or Password";
				}
			}
		 })
		// });
</script>
    </head>
    <body ng-app="stocklogin" ng-controller="login" class="hold-transition login-page">
        <!-- header logo: style can be found in header.less -->
		<div class="login-box">
		  <div class="login-logo">
			<img src="img/logo.png" height="80">
		  </div>
		  <!-- /.login-logo -->
		  <div class="card">
			<div class="card-body login-card-body">
			  <h3 class="login-box-msg">Sign in</h3>
			  <h5 class="text-danger text-center">{{error}}</h5>
			  <form ng-submit="validate_details(user)" method="post" name="frmDefault">
				<div class="input-group mb-3">
				  <input type="text" ng-model="user.name" class="form-control" placeholder="Enter username"/>
				  <div class="input-group-append">
					<div class="input-group-text">
					  <span class="fas fa-user"></span>
					</div>
				  </div>
				</div>
				<div class="input-group mb-3">
				 <input type="password" ng-model="user.pwd" class="form-control" placeholder="Enter password"/>
				  <div class="input-group-append">
					<div class="input-group-text">
					  <span class="fas fa-lock"></span>
					</div>
				  </div>
				</div>
				<div class="row">
				  <div class="col-8">
					&nbsp;
				  </div>
				  <!-- /.col -->
				  <div class="col-4">
					<button type="submit" class="btn btn-primary btn-block">Sign In</button>
				  </div>
				  <!-- /.col -->
				</div>
			  </form>
			</div>
			<!-- /.login-card-body -->
		  </div>
		</div>
    </body>
</html>